<!-- Lease Driver List -->
<div id="driverDataContainer" style="padding: 20px; font-family: 'Poppins', sans-serif;">
  <h2 style="text-align: left; margin-bottom: 20px; color: #333;">Driver IDs</h2>

  <!-- Scrollable container with only vertical scroll -->
    <div style="display: flex; justify-content: space-between; align-items: center; margin-bottom: 15px; flex-wrap: wrap; gap: 10px;">
    <div id="filters" style="display: flex; gap: 10px;">
      <select id="sortSelect" style="padding: 8px; border: 1px solid #ccc; border-radius: 6px;">
       <option value="">Sort By</option>
        <option value="agdDesc">AGD ID ↓</option>
        <option value="agdAsc">AGD ID ↑</optionn>
        <option value="ageAsc">Age ↑</option>
        <option value="ageDesc">Age ↓</option>
      </select>
    </div>

    <input 
      type="text" 
      id="searchInput"
      placeholder="Search..." 
      style="padding: 10px; width: 100%; max-width: 300px; border: 1px solid #ccc; border-radius: 6px;"
    >
  </div>
<div style="max-height: 500px; overflow-y: auto; overflow-x: auto; width: 100%; border-radius: 12px; box-shadow: 0 4px 8px rgba(0,0,0,0.1);">
  <table style="min-width: 1600px; border-collapse: collapse; width: 100%; border: 1px solid #ddd;">
    <thead style="background-color: #f8b500; color: white;">
      <tr style="background-color: #f8b500; color: white; position: sticky; top: 0; z-index: 2;">
        <th style="padding: 14px 18px; border: 1px solid #ddd;">UUID</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">AGD ID</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Recruited From</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">AGD ID of referee</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Contact Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Driver Name in Uber</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">WhatsApp Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Uber Registered Mobile Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Alternate Contact Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Emergency Contact Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Name of Emergency Contact</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Relation with Emergency Contact</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Present Address</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Permanent Address</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Age of Driver</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Marital Status</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Selfie</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Aadhar Card Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Aadhar Card Front</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Aadhar Card Back</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Driving License Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Driving License Front</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Driving License Back</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Pan Card Number</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Pan Card</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">House Rented or Owned</th>
        <th style="padding: 14px 18px; border: 1px solid #ddd;">Electricity Bill</th>
      </tr>
      </thead>
     <tbody id="tableBody">
  <% if (Driver_ids.length > 0) { %>
    <% Driver_ids.forEach(driver => { %>
      <tr style="text-align:center; background-color:#fff; border-bottom:1px solid #ddd;">
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.UUID %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.AGD_ID %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Recruited_From %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.AGD_ID_of_referee %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Relation %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Contact_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Driver_Name_in_Uber %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.WhatsApp_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Uber_Registered_Mobile_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Alternate_Contact_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Emergency_Contact_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Name_of_Emergency_Contact %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Relation_with_Emergency_Contact %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Present_Address %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Permanent_Address %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Age_of_Driver %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Marital_Status %></td>

        <!-- ✅ Convert links into clickable anchors -->
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Selfie && driver.Selfie.startsWith("http")) { %>
            <a href="<%= driver.Selfie %>" target="_blank">View Selfie</a>
          <% } else { %>
            <%= driver.Selfie %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"> <%= driver.Aadhar_Card_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Aadhar_Card_Front && driver.Aadhar_Card_Front.startsWith("http")) { %>
            <a href="<%= driver.Aadhar_Card_Front %>" target="_blank">View Front</a>
          <% } else { %>
            <%= driver.Aadhar_Card_Front %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Aadhar_Card_Back && driver.Aadhar_Card_Back.startsWith("http")) { %>
            <a href="<%= driver.Aadhar_Card_Back %>" target="_blank">View Back</a>
          <% } else { %>
            <%= driver.Aadhar_Card_Back %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Driving_License_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Driving_License_Front && driver.Driving_License_Front.startsWith("http")) { %>
            <a href="<%= driver.Driving_License_Front %>" target="_blank">View DL Front</a>
          <% } else { %>
            <%= driver.Driving_License_Front %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Driving_License_Back && driver.Driving_License_Back.startsWith("http")) { %>
            <a href="<%= driver.Driving_License_Back %>" target="_blank">View DL Back</a>
          <% } else { %>
            <%= driver.Driving_License_Back %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.Pan_Card_Number %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Pan_Card && driver.Pan_Card.startsWith("http")) { %>
            <a href="<%= driver.Pan_Card %>" target="_blank">View PAN</a>
          <% } else { %>
            <%= driver.Pan_Card %>
          <% } %>
        </td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;"><%= driver.House_Rented_or_Owned %></td>
        <td style="padding: 14px 18px; border: 1px solid #ddd;">
          <% if (driver.Electricity_Bill && driver.Electricity_Bill.startsWith("http")) { %>
            <a href="<%= driver.Electricity_Bill %>" target="_blank">View Bill</a>
          <% } else { %>
            <%= driver.Electricity_Bill %>
          <% } %>
        </td>
      </tr>
    <% }) %>
  <% } else { %>
    <tr>
      <td colspan="28" style="text-align:center; padding: 20px; color:#666; font-weight:bold;">
        No data available!
      </td>
    </tr>
  <% } %>
</tbody>


    </table>
  </div>
</div>
