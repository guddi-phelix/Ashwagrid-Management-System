<style>
  /* Page */
  html, body {
    margin: 0;
    font-family: 'Poppins', sans-serif;
  }

  /* Controls container */
  .controls {
    display: flex;
    justify-content: space-between;
    align-items: center;
    margin-bottom: 15px;
    flex-wrap: wrap;
    gap: 10px;
  }

  .controls select, .controls input {
    padding: 8px 12px;
    border-radius: 6px;
    border: 1px solid #ccc;
    font-size: 14px;
  }

  /* Scrollable table container */
  .lease-table-scroll {
    width: 100%;
    max-height: 500px;
    overflow: auto; /* both vertical & horizontal */
    border-radius: 12px;
    box-shadow: 0 4px 8px rgba(0,0,0,0.1);
  }

  table {
    width: 100%;
    border-collapse: collapse;
    min-width: 1600px;
  }

  thead {
    background-color: #f8b500;
    color: white;
    position: sticky;
    top: 0;
    z-index: 2;
  }

  th, td {
    padding: 14px 18px;
    text-align: center;
    border: 1px solid #ddd;
    white-space: nowrap;
  }

  tbody tr {
    background-color: #fff;
    border-bottom: 1px solid #ddd;
  }



  /* Profile image */
  .driver-photo {
    height: 60px;
    width: 60px;
    border-radius: 50%;
    object-fit: cover;
    border: 2px solid #f8b500;
  }
</style>

<div id="driverDataContainer" style="padding: 20px;">
  <h2 style="text-align: left; margin-bottom: 20px; color: #333;">Car History</h2>

  <!-- Controls -->
  <div class="controls">
    <select id="sortSelect">
  <option value="">Sort By</option>
  <option value="nameAsc">Username A → Z</option>
  <option value="nameDesc">Username Z → A</option>
  <option value="dateFromAsc">Date From ↑</option>
  <option value="dateFromDesc">Date From ↓</option>
  <option value="dateToAsc">Date To ↑</option>
  <option value="dateToDesc">Date To ↓</option>
  <option value="totalDaysAsc">Total Days ↑</option>
  <option value="totalDaysDesc">Total Days ↓</option>
</select>


    <input 
      type="text" 
      id="searchInput"
      placeholder="Search..." 
      style="padding: 10px; width: 100%; max-width: 300px; border: 1px solid #ccc; border-radius: 6px;"
    >
  </div>

  <!-- Scrollable table container -->
  <div class="lease-table-scroll">
    <table>
      <thead>
        <tr>
          <th>Profile Image</th>
          <th>Allocation ID</th>
          <th>Car Number</th>
          <th>Car Type</th>
          <th>AGD ID</th>
          <th>Driver Name</th>
          <th>Format</th>
          <th>Date From</th>
          <th>Date To</th>
          <th>Total Days</th>
          <th>UUID</th>
        </tr>
      </thead>
      <tbody id="tableBody">
        <% if (Car_History && Car_History.length > 0) { %>
          <% Car_History.forEach(driver => { %>
            <tr>
              <td>
                <% if (driver.photo) { %>
                  <img src="<%= driver.photo %>" alt="Photo" class="driver-photo">
                <% } else { %>
                  <span style="color:gray;">No Photo</span>
                <% } %>
              </td>
              <td><%= driver.Allocation_ID %></td>
              <td><%= driver.Car_Number %></td>
              <td><%= driver.Car_Type %></td>
              <td><%= driver.AGD_ID %></td>
              <td><%= driver.Driver_Name %></td>
              <td><%= driver.Format %></td>
              <td><%= driver.Date_From %></td>
              <td><%= driver.Date_To %></td>
              <td><%= driver.Total_Days %></td>
              <td><%= driver.UUID %></td>
            </tr>
          <% }) %>
        <% } else { %>
          <tr>
            <td colspan="11" style="text-align:center; padding:20px; color:#666; font-weight:bold; background-color:#f9f9f9;">
              No data available!
            </td>
          </tr>
        <% } %>
      </tbody>
    </table>
  </div>
</div>
